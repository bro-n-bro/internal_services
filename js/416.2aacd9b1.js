"use strict";(self["webpackChunkinternal_services"]=self["webpackChunkinternal_services"]||[]).push([[416],{66951:function(e,t,a){a.d(t,{A:function(){return _}});var n=a(56768);const s={class:"loader_wrap"},r=(0,n.Lk)("div",{class:"loader"},[(0,n.Lk)("span")],-1),c=[r];function i(e,t){return(0,n.uX)(),(0,n.CE)("div",s,c)}var l=a(71241);const u={},o=(0,l.A)(u,[["render",i]]);var _=o},73243:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});a(44114);var n=a(56768),s=a(90144),r=a(24232),c=a(45130),i=a(24113),l=a.p+"img/ic_copy.a4a97427.svg",u=a(45299),o=a(81387),_=a(16207),d=a(38326),v=a(61981),k=a(66951);const p=e=>((0,n.Qi)("data-v-ef470df4"),e=e(),(0,n.jt)(),e),h=i+"#ic_way",C={key:0,class:"list"},m={class:"head"},b=p((()=>(0,n.Lk)("div",{class:"logo"},null,-1))),f={class:"amount"},w={class:"denom"},y={class:"data"},L={class:"return_path"},g={class:"title"},E={key:0},X={key:1,class:"list"},R=p((()=>(0,n.Lk)("div",{class:"number"},null,-1))),$={class:"label"},I=p((()=>(0,n.Lk)("div",{class:"chain"},[(0,n.Lk)("div",{class:"logo"})],-1))),B=p((()=>(0,n.Lk)("div",{class:"arrow"},[(0,n.Lk)("svg",null,[(0,n.Lk)("use",{"xlink:href":h})])],-1))),N=p((()=>(0,n.Lk)("div",{class:"chain"},[(0,n.Lk)("div",{class:"logo"})],-1))),K={class:"status"},A={key:0,class:"green"},F={key:1,class:"yellow"},Q={key:2,class:"red"},x=["disabled"],W={class:"path"},j={class:"label"},D={class:"val"},J=["onClick"],S=p((()=>(0,n.Lk)("img",{src:l,alt:""},null,-1))),q=[S],O={key:1,class:"empty"};var Z={__name:"IBCRoute",setup(e){const t=(0,u.o)(),a=(0,o.lq)(),i=(0,s.KR)(!0),{copy:l,isSupported:p}=(0,d.iDZ)();async function h(){t.balances.forEach((async e=>{if(e.return_path=[],e.denom_traces.path){e.return_path.push({chain_name:t.networks.IBC[t.IBCRouteCurrentNetwork].name});for(const a of e.denom_traces.path.match(/transfer\/channel-\d+/g)){let n={path:a,channel:a.split("/")[1]};await fetch(`${t.networks.IBC[t.IBCRouteCurrentNetwork].lcd_api}/ibc/core/channel/v1/channels/${n.channel}/ports/transfer`).then((e=>e.json())).then((e=>{n.connection=e.channel.connection_hops[0],n.status="verified"})),await fetch(`${t.networks.IBC[t.IBCRouteCurrentNetwork].lcd_api}/ibc/core/connection/v1/connections/${n.connection}/client_state`).then((e=>e.json())).then((e=>n.chain_id=e.identified_client_state.client_state.chain_id));let s=_.Bt.find((e=>e.chain_id===n.chain_id));n.chain_name=s?s.pretty_name:null,e.return_path.push(n)}}}))}return(0,n.KC)((async()=>{t.currentService=a.name,t.IBCRouteCurrentNetwork=a.params.network,await t.initApp(t.IBCRouteCurrentNetwork),await h(),i.value=!1})),(0,n.wB)((0,n.EW)((()=>t.currentNetwork)),(async()=>{i.value=!0,t.IBCRouteCurrentNetwork=a.params.network,await t.initApp(t.IBCRouteCurrentNetwork),await h(),i.value=!1})),(e,a)=>i.value?((0,n.uX)(),(0,n.Wv)(k.A,{key:0})):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,s.R1)(t).balances.length?((0,n.uX)(),(0,n.CE)("div",C,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,s.R1)(t).balances,((t,a)=>((0,n.uX)(),(0,n.CE)("div",{class:"item",key:a},[(0,n.Lk)("div",m,[b,(0,n.Lk)("div",f,[(0,s.R1)(v.NJ)(t.amount,t.base_denom)<.01?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.eW)(" < 0.01 ")],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,r.v_)(e.$filters.toFixed((0,s.R1)(v.NJ)(t.amount,t.base_denom),2)),1)],64))]),(0,n.Lk)("div",w,(0,r.v_)((0,s.R1)(v.mO)(t.denom)),1)]),(0,n.Lk)("div",y,[(0,n.Lk)("div",L,[(0,n.Lk)("div",g,(0,r.v_)(e.$t("message.ibc_route_return_path_label",{count:t.return_path.length})),1),t.return_path.length?((0,n.uX)(),(0,n.CE)("div",X,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.return_path,((t,a)=>((0,n.uX)(),(0,n.CE)("div",{class:"item",key:a},[R,(0,n.Lk)("div",$,(0,r.v_)(e.$t("message.ibc_route_return_path_chain_name_label")),1),I,B,N,(0,n.Lk)("div",K,["verified"===t.status?((0,n.uX)(),(0,n.CE)("span",A,(0,r.v_)(e.$t("message.ibc_route_return_path_status_verified")),1)):(0,n.Q3)("",!0),"broken"===t.status?((0,n.uX)(),(0,n.CE)("span",F,(0,r.v_)(e.$t("message.ibc_route_return_path_status_broken")),1)):(0,n.Q3)("",!0),"expired"===t.status?((0,n.uX)(),(0,n.CE)("span",Q,(0,r.v_)(e.$t("message.ibc_route_return_path_status_expired")),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("button",{class:"send_btn",disabled:"verified"!=t.status},(0,r.v_)(e.$t("message.btn_send")),9,x)])))),128))])):((0,n.uX)(),(0,n.CE)("div",E,(0,r.v_)(e.$t("message.ibc_route_return_path_no_need")),1))]),(0,n.Lk)("div",W,[(0,n.Lk)("div",j,(0,r.v_)(e.$t("message.ibc_route_path_label")),1),(0,n.Lk)("div",D,[(0,n.Lk)("span",null,(0,r.v_)(t.denom_traces.path),1),(0,s.R1)(p)?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"copy_btn",onClick:(0,c.D$)((e=>(0,s.R1)(l)(t.denom_traces.path)),["prevent"])},q,8,J)):(0,n.Q3)("",!0)])])])])))),128))])):((0,n.uX)(),(0,n.CE)("div",O,(0,r.v_)(e.$t("message.ibc_route_empty_title")),1))],64))}},z=a(71241);const G=(0,z.A)(Z,[["__scopeId","data-v-ef470df4"]]);var H=G}}]);
//# sourceMappingURL=416.2aacd9b1.js.map