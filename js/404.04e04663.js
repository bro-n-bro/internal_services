"use strict";(self["webpackChunkinternal_services"]=self["webpackChunkinternal_services"]||[]).push([[404],{66951:function(e,t,a){a.d(t,{A:function(){return _}});var n=a(56768);const s={class:"loader_wrap"},r=(0,n.Lk)("div",{class:"loader"},[(0,n.Lk)("span")],-1),i=[r];function c(e,t){return(0,n.uX)(),(0,n.CE)("div",s,i)}var l=a(71241);const o={},u=(0,l.A)(o,[["render",c]]);var _=u},39807:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});a(44114);var n=a(56768),s=a(90144),r=a(24232),i=a(45130),c=a(24113),l=a.p+"img/ic_copy.a4a97427.svg",o=a(45299),u=a(81387),_=a(53424),d=a(38326),h=a(67278),p=a(61981),k=a(66951);const v=e=>((0,n.Qi)("data-v-7bf8b443"),e=e(),(0,n.jt)(),e),m=c+"#ic_way",C={key:0,class:"list"},b={class:"head"},f=v((()=>(0,n.Lk)("div",{class:"logo"},null,-1))),y={class:"amount"},g={class:"denom"},w={class:"data"},L={class:"return_path"},E={key:0,class:"title"},B=v((()=>(0,n.Lk)("div",{class:"number"},null,-1))),I={class:"label"},R={class:"chain"},X={class:"logo"},$=["src"],N=v((()=>(0,n.Lk)("div",{class:"arrow"},[(0,n.Lk)("svg",null,[(0,n.Lk)("use",{"xlink:href":m})])],-1))),Q={class:"chain"},K={class:"logo"},A=["src"],F={class:"status"},x={key:0,class:"green"},W={key:1,class:"yellow"},j={key:2,class:"red"},D={class:"send_btn",disabled:""},J={class:"path"},S={class:"label"},q={key:0,class:"val"},O=["onClick"],T=v((()=>(0,n.Lk)("img",{src:l,alt:""},null,-1))),Z=[T],z={key:1,class:"val"},G={key:1,class:"empty"};var H={__name:"IBCRoute",setup(e){const t=(0,o.o)(),a=(0,u.lq)(),c=(0,n.WQ)("i18n"),l=(0,h.hN)(),v=(0,s.KR)(!0),{copy:m,isSupported:T}=(0,d.iDZ)();function H(e){m(e),l.notify({group:"default",clean:!0}),l.notify({group:"default",title:c.global.t("message.notification_copy_title"),text:c.global.t("message.notification_copy_desc"),type:"success",data:{chain:t.networks.IBC[t.IBCRouteCurrentNetwork].name}})}async function M(){t.balances.forEach((async e=>{e.return_path=[];let a={},n={};if(e.denom_traces.path)for(const s of e.denom_traces.path.match(/transfer\/channel-\d+/g)){n={path:s,channel:s.split("/")[1]},await fetch(`${t.networks.IBC[t.IBCRouteCurrentNetwork].lcd_api}/ibc/core/channel/v1/channels/${n.channel}/ports/transfer`).then((e=>e.json())).then((e=>{n.connection=e.channel.connection_hops[0],n.status="verified"})),await fetch(`${t.networks.IBC[t.IBCRouteCurrentNetwork].lcd_api}/ibc/core/connection/v1/connections/${n.connection}/client_state`).then((e=>e.json())).then((e=>n.chain_id=e.identified_client_state.client_state.chain_id));let r=_.Bt.find((e=>e.chain_id===n.chain_id));n.chain_name=r?r.pretty_name:null,e.return_path.length?e.return_path.push({from:a,to:n}):(e.return_path.push({from:{chain_id:t.networks.IBC[t.IBCRouteCurrentNetwork].chainId,chain_name:t.networks.IBC[t.IBCRouteCurrentNetwork].name},to:n}),a=n)}}))}return(0,n.KC)((async()=>{t.currentService=a.name,t.IBCRouteCurrentNetwork=a.params.network,await t.initApp(t.IBCRouteCurrentNetwork),await M(),v.value=!1})),(0,n.wB)((0,n.EW)((()=>a.params.network)),(async()=>{v.value=!0,t.IBCRouteCurrentNetwork=a.params.network,await t.initApp(t.IBCRouteCurrentNetwork),await M(),v.value=!1})),(e,a)=>v.value?((0,n.uX)(),(0,n.Wv)(k.A,{key:0})):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,s.R1)(t).balances.length?((0,n.uX)(),(0,n.CE)("div",C,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,s.R1)(t).balances,((t,a)=>((0,n.uX)(),(0,n.CE)("div",{class:"item",key:a},[(0,n.Lk)("div",b,[f,(0,n.Lk)("div",y,[(0,s.R1)(p.NJ)(t.amount,t.base_denom)<.01?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.eW)(" < 0.01 ")],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,r.v_)(e.$filters.toFixed((0,s.R1)(p.NJ)(t.amount,t.base_denom),2)),1)],64))]),(0,n.Lk)("div",g,(0,r.v_)((0,s.R1)(p.mO)(t.denom)),1)]),(0,n.Lk)("div",w,[(0,n.Lk)("div",L,[t.return_path.length?((0,n.uX)(),(0,n.CE)("div",E,(0,r.v_)(e.$t("message.ibc_route_return_path_label",{count:t.return_path.length})),1)):(0,n.Q3)("",!0),t.return_path.length?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"list",style:(0,r.Tr)(`--item-count: ${t.return_path.length+1};`)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.return_path,((t,a)=>((0,n.uX)(),(0,n.CE)("div",{class:"item",key:a},[B,(0,n.Lk)("div",I,(0,r.v_)(e.$t("message.ibc_route_return_path_chain_name_label")),1),(0,n.Lk)("div",R,[(0,n.Lk)("div",X,[(0,n.Lk)("img",{src:(0,s.R1)(p.oB)(t.from.chain_id),alt:""},null,8,$)]),(0,n.Lk)("span",null,(0,r.v_)(t.from.chain_name),1)]),N,(0,n.Lk)("div",Q,[(0,n.Lk)("div",K,[(0,n.Lk)("img",{src:(0,s.R1)(p.oB)(t.to.chain_id),alt:""},null,8,A)]),(0,n.Lk)("span",null,(0,r.v_)(t.to.chain_name),1)]),(0,n.Lk)("div",F,["verified"===t.to.status?((0,n.uX)(),(0,n.CE)("span",x,(0,r.v_)(e.$t("message.ibc_route_return_path_status_verified")),1)):(0,n.Q3)("",!0),"broken"===t.to.status?((0,n.uX)(),(0,n.CE)("span",W,(0,r.v_)(e.$t("message.ibc_route_return_path_status_broken")),1)):(0,n.Q3)("",!0),"expired"===t.to.status?((0,n.uX)(),(0,n.CE)("span",j,(0,r.v_)(e.$t("message.ibc_route_return_path_status_expired")),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("button",D,(0,r.v_)(e.$t("message.btn_send")),1)])))),128))],4)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",J,[(0,n.Lk)("div",S,(0,r.v_)(e.$t("message.ibc_route_path_label")),1),t.return_path.length?((0,n.uX)(),(0,n.CE)("div",q,[(0,n.Lk)("span",null,(0,r.v_)(t.denom_traces.path),1),(0,s.R1)(T)?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"copy_btn",onClick:(0,i.D$)((e=>H(t.denom_traces.path)),["prevent"])},Z,8,O)):(0,n.Q3)("",!0)])):((0,n.uX)(),(0,n.CE)("div",z,(0,r.v_)(e.$t("message.ibc_route_path_no_need")),1))])])])))),128))])):((0,n.uX)(),(0,n.CE)("div",G,(0,r.v_)(e.$t("message.ibc_route_empty_title")),1))],64))}},M=a(71241);const P=(0,M.A)(H,[["__scopeId","data-v-7bf8b443"]]);var U=P}}]);
//# sourceMappingURL=404.04e04663.js.map