"use strict";(self["webpackChunkinternal_services"]=self["webpackChunkinternal_services"]||[]).push([[389],{66951:function(e,t,a){a.d(t,{A:function(){return _}});var n=a(56768);const s={class:"loader_wrap"},r=(0,n.Lk)("div",{class:"loader"},[(0,n.Lk)("span")],-1),c=[r];function i(e,t){return(0,n.uX)(),(0,n.CE)("div",s,c)}var l=a(71241);const u={},o=(0,l.A)(u,[["render",i]]);var _=o},97174:function(e,t,a){a.r(t),a.d(t,{default:function(){return M}});a(44114);var n=a(56768),s=a(90144),r=a(24232),c=a(45130),i=a(24113),l=a.p+"img/ic_copy.a4a97427.svg",u=a(45299),o=a(81387),_=a(16207),d=a(38326),v=a(61981),k=a(66951);const p=e=>((0,n.Qi)("data-v-55707bc7"),e=e(),(0,n.jt)(),e),h=i+"#ic_way",m={key:0,class:"list"},C={class:"head"},b={class:"logo"},w=["src"],y={class:"amount"},L={class:"denom"},f={class:"data"},g={class:"return_path"},E={class:"title"},R={key:0},X={key:1,class:"list"},$=p((()=>(0,n.Lk)("div",{class:"number"},null,-1))),B={class:"label"},I=p((()=>(0,n.Lk)("div",{class:"chain"},[(0,n.Lk)("div",{class:"logo"})],-1))),N=p((()=>(0,n.Lk)("div",{class:"arrow"},[(0,n.Lk)("svg",null,[(0,n.Lk)("use",{"xlink:href":h})])],-1))),K=p((()=>(0,n.Lk)("div",{class:"chain"},[(0,n.Lk)("div",{class:"logo"})],-1))),A={class:"status"},F={key:0,class:"green"},Q={key:1,class:"yellow"},x={key:2,class:"red"},W=["disabled"],j={class:"path"},D={class:"label"},J={class:"val"},S=["onClick"],q=p((()=>(0,n.Lk)("img",{src:l,alt:""},null,-1))),O=[q],Z={key:1,class:"empty"};var z={__name:"IBCRoute",setup(e){const t=(0,u.o)(),a=(0,o.lq)(),i=(0,s.KR)(!0),{copy:l,isSupported:p}=(0,d.iDZ)();async function h(){t.balances.forEach((async e=>{if(e.return_path=[],e.denom_traces.path){e.return_path.push({chain_name:t.networks.IBC[t.IBCRouteCurrentNetwork].name});for(const a of e.denom_traces.path.match(/transfer\/channel-\d+/g)){let n={path:a,channel:a.split("/")[1]};await fetch(`${t.networks.IBC[t.IBCRouteCurrentNetwork].lcd_api}/ibc/core/channel/v1/channels/${n.channel}/ports/transfer`).then((e=>e.json())).then((e=>{n.connection=e.channel.connection_hops[0],n.status="verified"})),await fetch(`${t.networks.IBC[t.IBCRouteCurrentNetwork].lcd_api}/ibc/core/connection/v1/connections/${n.connection}/client_state`).then((e=>e.json())).then((e=>n.chain_id=e.identified_client_state.client_state.chain_id));let s=_.Bt.find((e=>e.chain_id===n.chain_id));n.chain_name=s?s.pretty_name:null,e.return_path.push(n)}}}))}return(0,n.KC)((async()=>{t.currentService=a.name,t.IBCRouteCurrentNetwork=a.params.network,await t.initApp(t.IBCRouteCurrentNetwork),await h(),i.value=!1})),(0,n.wB)((0,n.EW)((()=>t.currentNetwork)),(async()=>{i.value=!0,t.IBCRouteCurrentNetwork=a.params.network,await t.initApp(t.IBCRouteCurrentNetwork),await h(),i.value=!1})),(e,a)=>i.value?((0,n.uX)(),(0,n.Wv)(k.A,{key:0})):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,s.R1)(t).balances.length?((0,n.uX)(),(0,n.CE)("div",m,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,s.R1)(t).balances,((t,a)=>((0,n.uX)(),(0,n.CE)("div",{class:"item",key:a},[(0,n.Lk)("div",C,[(0,n.Lk)("div",b,[(0,n.Lk)("img",{src:(0,s.R1)(v.oB)(t.chain_id),alt:""},null,8,w)]),(0,n.Lk)("div",y,[(0,s.R1)(v.NJ)(t.amount,t.base_denom)<.01?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.eW)(" < 0.01 ")],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,r.v_)(e.$filters.toFixed((0,s.R1)(v.NJ)(t.amount,t.base_denom),2)),1)],64))]),(0,n.Lk)("div",L,(0,r.v_)((0,s.R1)(v.mO)(t.denom)),1)]),(0,n.Lk)("div",f,[(0,n.Lk)("div",g,[(0,n.Lk)("div",E,(0,r.v_)(e.$t("message.ibc_route_return_path_label",{count:t.return_path.length})),1),t.return_path.length?((0,n.uX)(),(0,n.CE)("div",X,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.return_path,((t,a)=>((0,n.uX)(),(0,n.CE)("div",{class:"item",key:a},[$,(0,n.Lk)("div",B,(0,r.v_)(e.$t("message.ibc_route_return_path_chain_name_label")),1),I,N,K,(0,n.Lk)("div",A,["verified"===t.status?((0,n.uX)(),(0,n.CE)("span",F,(0,r.v_)(e.$t("message.ibc_route_return_path_status_verified")),1)):(0,n.Q3)("",!0),"broken"===t.status?((0,n.uX)(),(0,n.CE)("span",Q,(0,r.v_)(e.$t("message.ibc_route_return_path_status_broken")),1)):(0,n.Q3)("",!0),"expired"===t.status?((0,n.uX)(),(0,n.CE)("span",x,(0,r.v_)(e.$t("message.ibc_route_return_path_status_expired")),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("button",{class:"send_btn",disabled:"verified"!=t.status},(0,r.v_)(e.$t("message.btn_send")),9,W)])))),128))])):((0,n.uX)(),(0,n.CE)("div",R,(0,r.v_)(e.$t("message.ibc_route_return_path_no_need")),1))]),(0,n.Lk)("div",j,[(0,n.Lk)("div",D,(0,r.v_)(e.$t("message.ibc_route_path_label")),1),(0,n.Lk)("div",J,[(0,n.Lk)("span",null,(0,r.v_)(t.denom_traces.path),1),(0,s.R1)(p)?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"copy_btn",onClick:(0,c.D$)((e=>(0,s.R1)(l)(t.denom_traces.path)),["prevent"])},O,8,S)):(0,n.Q3)("",!0)])])])])))),128))])):((0,n.uX)(),(0,n.CE)("div",Z,(0,r.v_)(e.$t("message.ibc_route_empty_title")),1))],64))}},G=a(71241);const H=(0,G.A)(z,[["__scopeId","data-v-55707bc7"]]);var M=H}}]);
//# sourceMappingURL=389.b8805748.js.map